(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{624:function(t,s,n){"use strict";n.r(s);var a=n(6),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("它是一个库，通过这个库，我们能很好的将事件事件发布出去，而不需要关心接受者是谁")])]),t._v(" "),n("h1",{attrs:{id:"发布与订阅"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布与订阅"}},[t._v("#")]),t._v(" 发布与订阅")]),t._v(" "),n("blockquote",[n("p",[t._v("它是一个库，通过这个库，我们能很好的将事件事件发布出去，而不需要关心接受者是谁")])]),t._v(" "),n("blockquote",[n("p",[t._v("https://www.npmjs.com/package/pubsub-js 这是 npm 库")])]),t._v(" "),n("blockquote",[n("p",[t._v("https://github.com/mroderick/PubSubJS 这是地址")])]),t._v(" "),n("h1",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),n("blockquote",[n("p",[t._v("cnpm i pubsub-js -S")])]),t._v(" "),n("h1",{attrs:{id:"我把它运用在了一个小-demo-配合-react"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我把它运用在了一个小-demo-配合-react"}},[t._v("#")]),t._v(" 我把它运用在了一个小 demo 配合 react")]),t._v(" "),n("blockquote",[n("p",[t._v("这是 App.js")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" logo from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./logo.svg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App.css'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Alert from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Alert'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" PubSub from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pubsub-js"')]),t._v("\n\nclass Button extends Component"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      constructor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          this.state"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              time:false\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          this.bundEvent"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("this.bundEvent.bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("bundEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          this.setState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("time: "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("prevState.time"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n          if"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.state.time"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                PubSub.publishSync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHOW_TIME"')]),t._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"测试啦"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("else"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              PubSub.publish"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HIDE_TIME"')]),t._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"继续"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.bundEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.props.children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n\nclass App extends Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Alert/"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("大时代"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("这是自定义的提示，名字请忽略，没写弹窗")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App.css'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" PubSub from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pubsub-js"')]),t._v("\nclass Alert extends Component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    constructor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        this.state"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            flag:false\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    Show"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e,11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        this.setState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            flag:true\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    Hide"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e,22"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        this.setState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            flag:false\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("componentDidMount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        PubSub.subscribe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHOW_TIME"')]),t._v(",this.Show.bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n        PubSub.subscribe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HIDE_TIME"')]),t._v(",this.Hide.bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.state.flag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("display:this.state.flag ? "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'block'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                       "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("测试"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default Alert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v('PubSub.subscribe("SHOW_TIME",this.Show.bind(this)) 这是用来订阅一个方法')])]),t._v(" "),n("blockquote",[n("p",[t._v('PubSub.publish("HIDE_TIME","继续") 这就是用来发布方法的了')])]),t._v(" "),n("blockquote",[n("p",[t._v("PubSub.unsubscribe() 用来取消订阅")])]),t._v(" "),n("blockquote",[n("p",[t._v("对于全局都需要的弹窗和 tips 以及 loding，我们可以用这个来改，不用每次都在局部写了")])]),t._v(" "),n("h1",{attrs:{id:"官网上提供的小栗子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#官网上提供的小栗子"}},[t._v("#")]),t._v(" 官网上提供的小栗子")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("Basic example\n\n// create a "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" to subscribe to topics\nvar mySubscriber "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" the "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" to the list of subscribers "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" a particular topic\n// we"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'re keeping the returned token, in order to be able to unsubscribe\n// from the topic later on\nvar token = PubSub.subscribe( '")]),t._v("MY TOPIC"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', mySubscriber );\n\n// publish a topic asyncronously\nPubSub.publish( '")]),t._v("MY TOPIC"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),t._v("hello world"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' );\n\n// publish a topic syncronously, which is faster in some environments,\n// but will get confusing when one topic triggers new topics in the\n// same execution chain\n// USE WITH CAUTION, HERE BE DRAGONS!!!\nPubSub.publishSync( '")]),t._v("MY TOPIC"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', '")]),t._v("hello world"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("' "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("Cancel specific subscription\n\n// create a "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" to receive the topic\nvar mySubscriber "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" the "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" to the list of subscribers to a particular topic\n// we"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'re keeping the returned token, in order to be able to unsubscribe\n// from the topic later on\nvar token = PubSub.subscribe( '")]),t._v("MY TOPIC"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', mySubscriber );\n\n// unsubscribe this subscriber from this topic\nPubSub.unsubscribe( token );\n\nCancel all subscriptions for a function\n\n// create a function to receive the topic\nvar mySubscriber = function( msg, data ){\n    console.log( msg, data );\n};\n\n// unsubscribe mySubscriber from ALL topics\nPubSub.unsubscribe( mySubscriber );\nClear all subscriptions for a topic\n\nPubSub.subscribe('")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', myFunc1);\nPubSub.subscribe('")]),t._v("a.b"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', myFunc2);\nPubSub.subscribe('")]),t._v("a.b.c"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', myFunc3);\n\nPubSub.unsubscribe('")]),t._v("a.b"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("');\n// no further notications for '")]),t._v("a.b"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' and '")]),t._v("a.b.c"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' topics\n// notifications for '")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' will still get published\nClear all subscriptions\n\nPubSub.clearAllSubscriptions();\n// all subscriptions are removed\nHierarchical addressing\n\n// create a subscriber to receive all topics from a hierarchy of topics\nvar myToplevelSubscriber = function( msg, data ){\n    console.log( '")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" level: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', msg, data );\n}\n\n// subscribe to all topics in the '")]),t._v("car"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' hierarchy\nPubSub.subscribe( '")]),t._v("car"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', myToplevelSubscriber );\n\n// create a subscriber to receive only leaf topic from hierarchy op topics\nvar mySpecificSubscriber = function( msg, data ){\n    console.log('")]),t._v("specific: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', msg, data );\n}\n\n// subscribe only to '")]),t._v("car.drive"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' topics\nPubSub.subscribe( '")]),t._v("car.drive"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', mySpecificSubscriber );\n\n// Publish some topics\nPubSub.publish( '")]),t._v("car.purchase"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', { name : '")]),t._v("my new car"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' } );\nPubSub.publish( '")]),t._v("car.drive"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', { speed : '")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' } );\nPubSub.publish( '")]),t._v("car.sell"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("', { newOwner : '")]),t._v("someone "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' } );\n\n// In this scenario, myToplevelSubscriber will be called for all\n// topics, three times in total\n// But, mySpecificSubscriber will only be called once, as it only\n// subscribes to the '")]),t._v("car.drive' topic\n")])])]),n("h1",{attrs:{id:"tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[t._v("#")]),t._v(" Tips")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("Example of use of "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"constants"')]),t._v("\n\n// BAD\nPubSub.subscribe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v(", function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPubSub.publish"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helo"')]),t._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// BETTER\nvar MY_TOPIC "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nPubSub.subscribe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MY_TOPIC, function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" msg, data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPubSub.publish"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MY_TOPIC, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);